plugins {
    id 'java-gradle-plugin'
    id "de.materna.cms.internal.gsb-publishing"
    id 'io.freefair.lombok'
}

dependencies {

    implementation 'io.freefair.gradle:okhttp-plugin:8.4'
    implementation "org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion"
    implementation "com.google.cloud.tools:jib-gradle-plugin:3.4.0"
}

gradlePlugin {
    // Define the plugin
    plugins {
        component {
            id = 'de.materna.cms.component'
            implementationClass = 'de.materna.cms.gradle.plugins.component.CmsComponentPlugin'
        }
        componentBundle {
            id = 'de.materna.cms.component-bundle'
            implementationClass = 'de.materna.cms.gradle.plugins.component.CmsComponentBundlePlugin'
        }
        warLibrary {
            id = 'de.materna.cms.war-library'
            implementationClass = 'de.materna.cms.gradle.plugins.WarLibraryPlugin'
        }
        mavenRepo {
            id = 'de.materna.cms.maven-publish-repo'
            implementationClass = 'de.materna.cms.gradle.plugins.maven.MavenRepositoryPlugin'
        }
        ideaDownloadJavadocs {
            id = 'de.materna.cms.idea-download-javadocs'
            implementationClass = 'de.materna.cms.gradle.plugins.idea.IdeaDownloadJavadocsPlugin'
        }
        gitArchive {
            id = 'de.materna.cms.git-archive'
            implementationClass = 'de.materna.cms.gradle.plugins.git.GitArchivePlugin'
        }
        integrationTest {
            id = 'de.materna.cms.integration-test'
            implementationClass = 'de.materna.cms.gradle.plugins.test.IntegrationTestPlugin'
        }
        seleniumTest {
            id = 'de.materna.cms.selenium-test'
            implementationClass = 'de.materna.cms.gradle.plugins.test.SeleniumTestPlugin'
        }
        ciJavaLogs {
            id = 'de.materna.cms.ci.java-logs'
            implementationClass = 'de.materna.cms.gradle.plugins.ci.JavaLogsPlugin'
        }
    }
}
